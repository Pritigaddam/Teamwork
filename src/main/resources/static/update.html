<html>
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">

	<title>Mobileplan</title>
	<meta content="" name="description">
	<meta content="" name="keywords">

	<!-- Favicons -->
	<link href="assets/img/testimonials/micon.jpg" rel="icon">
	<link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

	<!-- Google Fonts -->
	<link
		href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
		rel="stylesheet">

	<!-- Vendor CSS Files -->
	<link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
	<link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
	<link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
	<link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
	<link href="assets/vendor/aos/aos.css" rel="stylesheet">

	<!-- Template Main CSS File -->
	<link href="assets/css/style.css" rel="stylesheet">
  </style>
  <style>
  body{
	background-color:#E6E6FA;
}
  </style>

    <!-- This is a very crude way of doing things meant for learning and training only -->
    
	
    	
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<title>Mobileplan</title>
<script>
	document.createElement("mypage")
</script>

	<script type="text/javascript">
		
		function setValue()
		{
			var url_string = window.location;
			var url = new URL(url_string);
			var tvid = url.searchParams.get("id");
			var name = url.searchParams.get("name");
			var validity = url.searchParams.get("validity");
			var description = url.searchParams.get("description");
			document.getElementById('id').value = tvid;
			document.getElementById('name').value = name;
			document.getElementById('description').value = description;
			document.getElementById('validity').value = validity;
			
		}
		function UpdateRecord()  
        {  
            var id = document.getElementById('id').value;  
            var name = document.getElementById('name').value;  
            var description = document.getElementById('description').value;  
            var validity = document.getElementById('validity').value; 
            
            if (id.length != 0 && name.length !=0 && description.length !=0 && validity.length !=0)  
            {  
               
                
                var xhr = new XMLHttpRequest();
			    xhr.open("PATCH", "http://localhost:8080/mp", false);
			    xhr.setRequestHeader("Accept", "application/json");
				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.onreadystatechange = function () {
   				if (xhr.readyState === 4) {
      		    console.log(xhr.status);
      			console.log(xhr.responseText);
   				}};
                var obj = {"id": id ,"name": name ,"description":description ,"validity": validity};
				var myjson = JSON.stringify(obj);
				xhr.send(myjson);
				alert("Mobileplan updated Successfully");	  
            }  
            else  
            {              
                alert("Please Enter all the Fields ");  
            }  
        }  
	</script>
</head>

<header id="header" class="fixed-top">
<div w3-include-html="index.html"></div>
		<div class="container d-flex">

			<div class="logo mr-auto">
				<h1 class="text-light">
					<a href="index.html">Mobile Plan</a>
				</h1>
				<!-- Uncomment below if you prefer to use an image logo -->
				<!-- <a href="index.html"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->
			</div>

			
			<!-- .nav-menu -->

		</div>
	</header>
	<!-- End Header -->
	<body  onload = "setValue()" >
	<br><br><br><br><br> 
	<p style="position:absolute;right:200px; top:100px; font-family:Arial; font-size:250% ;">Update Mobile Plan Data</p>
     <br/>
     <br/>
     
      
        <p style="font-size: 20px; position:absolute;right:250px; top:200px;">  
     		Id &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
     		<input id="id" type="text" readonly/> </p>  
        <br><p style="font-size: 20px;position:absolute;right:250px; top:250px;">  
            Name &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;              
            <input id="name" type="text" /></p>  
        <br><p style="font-size: 20px;position:absolute;right:250px; top:300px;">  
            Description &nbsp;&nbsp;            
            <input id="description" type="text" /></p>  
        <br><p style="font-size: 20px;position:absolute;right:250px; top:350px;">  
            Validity  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                
            <input id="validity" type="text" /></p> 
            
    <br>   <button style="position:absolute;right:350px; top:450px;" type="submit"  name="bt" onclick="UpdateRecord()" >Update Data</button>
   
    
   
         <img src="assets/img/edit.png" width= "400" height ="400" style="position:absolute; left:2px; top: 200px; left:150px;">

	

	
</body>
</html>

